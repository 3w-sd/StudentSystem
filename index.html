<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student System</title>
    <link rel="shortcut icon" type="image/x-icon" href="uni-logo.png" />
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <div id="loader" class="loading-circle"></div>

    <div class="container" id="formContainer">
        <h1>Student Results</h1>

        <input type="text" id="studentId" placeholder="Enter University ID" />
        <select id="major">
            <option value="">Select Specialization</option>
            <option value="CS">CS</option>
            <option value="IT">IT</option>
        </select>
        <select id="semester">
            <option value="">Select Semester</option>
            <option value="all">All Semesters</option>
            <option value="1">1st Semester</option>
            <option value="2">2nd Semester</option>
            <option value="3">3rd Semester</option>
            <option value="4">4th Semester</option>
            <option value="5">5th Semester</option>
            <option value="6">6th Semester</option>
            <option value="7">7th Semester</option>
            <option value="8">8th Semester</option>
        </select>

        <button id="submitButton" onclick="redirectToDetails()">Show Information</button>

        <div id="error"></div>
    </div>

    <script>
        function redirectToDetails() {
            const studentId = document.getElementById('studentId').value;
            const major = document.getElementById('major').value;
            const semester = document.getElementById('semester').value;
            const errorDiv = document.getElementById('error');
            const formContainer = document.getElementById('formContainer');
            const loader = document.getElementById('loader');
            const submitButton = document.getElementById('submitButton');

            if (!studentId || !major || !semester) {
                errorDiv.innerText = "⚠️ Please fill all fields!";
                return;
            }

            const formElements = document.querySelectorAll("input, select, button, h1");
            formElements.forEach(el => {
                el.style.transition = "opacity 0.5s ease-out";
                el.style.opacity = 0;
            });
            
            formContainer.classList.add('shrink-and-fade');
            
            setTimeout(() => {
                loader.style.display = 'block';
            }, 500);

            submitButton.disabled = true;

            setTimeout(() => {
                window.location.href = `details.html?studentId=${studentId}&major=${major}&semester=${semester}`;
            }, 2500); // Reduced timeout for a faster redirect
        }
    </script>
</body>

</html>