<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>

    <link rel="shortcut icon" type="image/x-icon" href="uni-logo.png" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>


    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Details</title>
    <style>
        @media (max-width: 768px) {
    body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 10px;
    }

    .container {
        width: 95%;
        padding: 15px;
    }

    h1 {
        font-size: 20px;
    }

    input, select, button {
        font-size: 14px;
        padding: 8px;
    }
}

@media (max-width: 480px) {
    .container {
        width: 100%;
        padding: 10px;
    }

    h1 {
        font-size: 18px;
    }

    input, select, button {
        font-size: 12px;
        padding: 6px;
    }
}

                @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap');

:root {
    --primary-color: #6a11cb;
    --secondary-color: #2575fc;
    --accent-color: #8e2de2;
    --text-color: #2c3e50;
}

* {
    box-sizing: border-box;
    transition: all 0.3s ease;
}

body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 20px;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    color: var(--text-color);
}

.container {
    max-width: 800px;
    margin: 20px auto;
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    animation: slideUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

@keyframes slideUp {
    0% { transform: translateY(50px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
}

h1 {
    text-align: center;
    color: var(--primary-color);
    font-size: 2.2em;
    margin-bottom: 30px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
}

table {
    width: 100%;
    border-collapse: collapse;
    margin: 25px 0;
    background: white;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
}

table th {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    font-weight: 500;
    padding: 15px;
    text-align: center;
}

table td {
    padding: 12px 15px;
    border-bottom: 1px solid #f0f0f0;
    text-align: center;
}

table tr:last-child td {
    border-bottom: none;
}

table tr:hover td {
    background-color: #f8f9fa;
    transform: scale(1.02);
    box-shadow: 0 3px 10px rgba(0,0,0,0.05);
}

.gpa {
    text-align: center;
    font-size: 1.4em;
    padding: 15px;
    background: linear-gradient(135deg, #fff, #f8f9fa);
    border-radius: 8px;
    margin-top: 25px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.05);
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); }
}

button {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    border: none;
    padding: 12px 30px;
    border-radius: 25px;
    font-size: 16px;
    cursor: pointer;
    display: block;
    margin: 25px auto;
    box-shadow: 0 5px 15px rgba(106, 17, 203, 0.3);
    position: relative;
    overflow: hidden;
}

button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(106, 17, 203, 0.4);
}

button::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        120deg,
        transparent,
        rgba(255,255,255,0.3),
        transparent
    );
    transition: all 0.6s;
}

button:hover::after {
    left: 100%;
}

@media (max-width: 768px) {
    .container {
        margin: 10px;
        padding: 20px;
    }
    
    table {
        font-size: 14px;
    }
    
    h1 {
        font-size: 1.8em;
    }
}

@media (max-width: 480px) {
    table th,
    table td {
        padding: 10px;
    }
    
    .gpa {
        font-size: 1.2em;
    }
}
        /* الأساسيات */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

header, footer {
    text-align: center;
    padding: 10px;
    background-color: #333;
    color: white;
}

.container {
    max-width: 1200px;
    margin: 20px auto;
    padding: 15px;
}

button {
    padding: 12px 24px;
    font-size: 16px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    width: 100%;
    max-width: 300px;
    margin: 20px auto;
    display: block;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

table th, table td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
}

table th {
    background-color: #f2f2f2;
}

/* التصاميم المتجاوبة */
@media (max-width: 768px) {
    body {
        font-size: 14px;
    }

    .container {
        padding: 10px;
    }

    table th, table td {
        font-size: 12px;
        padding: 6px;
    }

    button {
        font-size: 14px;
        padding: 10px 20px;
    }
}

@media (max-width: 480px) {
    body {
        font-size: 12px;
    }

    header, footer {
        font-size: 14px;
    }

    button {
        font-size: 12px;
        padding: 8px 16px;
    }

    table th, table td {
        font-size: 10px;
        padding: 4px;
    }
}

        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 700px;
            margin: 0 auto;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-size: 24px;
            margin-bottom: 10px;
            color: #007bff;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        table th, table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }

        table th {
            background-color: #007bff;
            color: white;
        }

        .gpa {
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }
        .uni-logo {
    position: absolute;
    top: auto;
    right: auto;
    width: 80px;
    height: auto;
}

    </style>
</head>
<body>
    <div class="container">
        <img src="uni-logo.png" alt="University Logo" class="uni-logo">

        <h1>Student Details</h1>
        <div id="studentInfo"></div>
        <table id="gradesTable">
            <thead>
                <tr id="tableHeader"></tr>
            </thead>
            <tbody></tbody>
        </table>
        <div class="gpa" id="gpa"></div>
    </div>
    <button onclick="window.location.href='index.html'">
        Go Back to Home Page
    </button>
    <button onclick="downloadPDF()">
        Download Full Report
    </button>



    <script>
        async function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    // تحميل صورة الشعار من الرابط المباشر
    const logoURL = "https://upload.wikimedia.org/wikipedia/en/f/fe/National_College_Sudan_Logo.png";

    try {
        const response = await fetch(logoURL);
        const blob = await response.blob();
        const reader = new FileReader();

        reader.onloadend = function () {
            const logoData = reader.result; // تحويل الصورة إلى Base64

            // استخراج بيانات الطالب
            const params = new URLSearchParams(window.location.search);
            const studentId = params.get('studentId');
            const major = params.get('major');
            const semester = params.get('semester');

            const studentData = studentsData[studentId];

            if (!studentData || !studentData[major]) {
                alert("No data available for this student.");
                return;
            }

            const studentName = studentData.name;
            const fileName = `${studentName}_Report.pdf`;

            // حساب الـ GPA
            function calculateGPA(data, semester) {
                const gradePoints = { "A": 4.0, "B+": 3.5, "B": 3.0, "C+": 2.5, "C": 2.0, "F": 0 };
                let totalPoints = 0, totalCredits = 0;

                if (semester === "all") {
                    Object.values(data).forEach(courses => {
                        courses.forEach(course => {
                            totalPoints += gradePoints[course.grade] * course.credits;
                            totalCredits += course.credits;
                        });
                    });
                } else {
                    data[semester]?.forEach(course => {
                        totalPoints += gradePoints[course.grade] * course.credits;
                        totalCredits += course.credits;
                    });
                }

                return totalCredits > 0 ? (totalPoints / totalCredits).toFixed(2) : "N/A";
            }

            const gpa = calculateGPA(studentData[major], semester);
            const semesterText = semester === "all" ? "All Semesters" : `Semester ${semester}`;

            // توليد QR Codes
            function generateQRCode(text) {
                const canvas = document.createElement("canvas");
                const qr = new QRious({
                    element: canvas,
                    value: text,
                    size: 100
                });
                return canvas.toDataURL("image/png");
            }

            const gradesQR = generateQRCode(`https://nusuinfo.netlify.app/details.html?studentId=${studentId}&major=${major}&semester=all`);
            const certificateQR = generateQRCode(`Awn certifies that this student (${studentName}) with ID ${studentId} is enrolled at the National University. This certificate is not official.`);

            // إدراج الشعار في أعلى يمين التقرير
            doc.addImage(logoData, "PNG", 160, 10, 30, 30);

            // ترويسة التقرير
            doc.setFont("helvetica", "bold");
            doc.setFontSize(18);
            doc.text(studentName + " Report", 105, 20, { align: "center" });

            // ملاحظة أن هذا ليس بيانًا رسميًا
            doc.setFontSize(10);
            doc.setTextColor(200, 0, 0);
            doc.text("*** This is NOT an official statement from the university ***", 105, 30, { align: "center" });

            // بيانات الطالب
            doc.setFontSize(12);
            doc.setTextColor(0, 0, 0);
            doc.text(`Student ID: ${studentId}`, 15, 40);
            doc.text(`Major: ${major}`, 15, 50);
            doc.text(`Semester: ${semesterText}`, 15, 60);
            doc.text(`GPA: ${gpa}`, 15, 70); // ✅ عرض GPA

            // إضافة QR Codes
            doc.addImage(gradesQR, "PNG", 15, 80, 30, 30);
           

            doc.addImage(certificateQR, "PNG", 50, 80, 30, 30);
            

            // إعداد الجدول
            const tableData = [];
            const columns = semester === "all"
                ? ["Semester", "Subject", "Grade", "Credits"]
                : ["Subject", "Grade", "Credits"];

            if (semester === "all") {
                Object.keys(studentData[major]).forEach(sem => {
                    studentData[major][sem].forEach(course => {
                        tableData.push([sem, course.subject, course.grade, course.credits]);
                    });
                });
            } else {
                studentData[major][semester]?.forEach(course => {
                    tableData.push([course.subject, course.grade, course.credits]);
                });
            }

            // إدراج الجدول في PDF
            doc.autoTable({
                head: [columns],
                body: tableData,
                startY: 120,
                theme: "striped",
                styles: { fontSize: 10, cellPadding: 3 },
                headStyles: { fillColor: [44, 62, 80], textColor: [255, 255, 255] },
            });

            // حفظ ملف PDF
            doc.save(fileName);
        };

        reader.readAsDataURL(blob); // تحويل الصورة إلى Base64
    } catch (error) {
        console.error("Error loading logo:", error);
        alert("Failed to load university logo.");
    }
}


        document.addEventListener('DOMContentLoaded', () => {
            const rows = document.querySelectorAll('#gradesTable tbody tr');
            rows.forEach((row, index) => {
                setTimeout(() => {
                    row.style.opacity = '1';
                    row.style.transform = 'translateY(0)';
                }, index * 50);
            });
        });

        // Add initial styles for animation
        const style = document.createElement('style');
        style.textContent = `
            #gradesTable tbody tr {
                opacity: 0;
                transform: translateY(20px);
                transition: all 0.4s ease-out;
            }
        `;
        document.head.appendChild(style);
        // Local data with grades in letters and credit hours
        const studentsData = {
            "CS5-22-32000165": {
                name: "Awn M.S. Rudwan",
                CS: {
                    1: [
                        { subject: "Computer Applications", grade: "A", credits: 3 },
                        { subject: "Principles of Information Systems", grade: "A", credits: 3 },
                        { subject: "English I", grade: "A", credits: 3 },
                        { subject: "Calculus I", grade: "A", credits: 3 },
                        { subject: "Introduction to Computer Scince", grade: "A", credits: 3 },
                        { subject: "Discrete Mathmatics", grade: "A", credits: 3 },
                        { subject: "Principles of Economics", grade: "B", credits: 3 }
                    ],
                    2: [
                        { subject: "File Management", grade: "A", credits: 3 },
                        { subject: "Introduction to Database", grade: "A", credits: 3 },
                        { subject: "English II", grade: "B", credits: 3 },
                        { subject: "Computer Maintenance", grade: "A", credits: 2 },
                        { subject: "Principles of Accounting", grade: "A", credits: 3 },
                        { subject: "Principles of Programming", grade: "A", credits: 3 },
                        { subject: "Algebra and Geometry", grade: "A", credits: 3 },
                        { subject: "Calculus II", grade: "A", credits: 3 }
                        
                    ],
                    3: [
                        { subject: "Digital Systems", grade: "A", credits: 3 },
                        { subject: "Programming Methods", grade: "A", credits: 3 },
                        { subject: "Differential Equations", grade: "B+", credits: 3 },
                        { subject: "Multimedia", grade: "A", credits: 3 },
                        { subject: "Database Concepts", grade: "A", credits: 3 },
                        { subject: "Statistics and Probability I", grade: "A", credits: 3 },
                        { subject: "System Analysis & Design", grade: "B", credits: 3 },
                        { subject: "Numerical Computation I", grade: "A", credits: 3 }


                    ],
                    4:[
                        { subject: "Computer Architecture and Organization", grade: "B", credits: 3 },
                        { subject: "Human Computer Interaction", grade: "A", credits: 3 },
                        { subject: "Statistics & Probabilities II", grade: "A", credits: 3 },
                        { subject: "Database Programming", grade: "A", credits: 3 },
                        { subject: "Algorithms and Data Structure", grade: "A", credits: 3 },
                        { subject: "Numeric Computation II", grade: "A", credits: 3 },
                        { subject: "Operations Research", grade: "A", credits: 3 },
                        { subject: "Internet Technology", grade: "B+", credits: 3 }
                    ],
                    5: [
                        { subject: "Programming Methods II (OOP)", grade: "A", credits: 3 },
                        { subject: "Computer Networks and Communications", grade: "A", credits: 3 },
                        { subject: "Database Applications", grade: "A", credits: 3 },
                        { subject: "Software Engineering I", grade: "A", credits: 3 },
                       { subject: "Visual Programming", grade: "A", credits: 3 },
                       { subject: "Algorithms Analysis and Design", grade: "B+", credits: 3 },
                       // { subject: "Compilers Design", grade: "N/A", credits: 3 }

                    ]
                }
            },
            "CS5-22-11900273": {
                name: "Mustafa B.O. Mohammed",
                CS: {
                    1: [
                        { subject: "Computer Applications", grade: "C+", credits: 3 },
                        { subject: "Principles of Information Systems", grade: "B", credits: 3 },
                        { subject: "English I", grade: "C", credits: 3 },
                        { subject: "Calculus I", grade: "F", credits: 3 },
                        { subject: "Introduction to Computer Scince", grade: "B", credits: 3 },
                        { subject: "Discrete Mathmatics", grade: "F", credits: 3 },
                        { subject: "Principles of Economics", grade: "C", credits: 3 }
                    ],
                    2: [
                        { subject: "File Management", grade: "F", credits: 3 },
                        { subject: "Introduction to Database", grade: "A", credits: 3 },
                        { subject: "English II", grade: "B", credits: 3 },
                        { subject: "Computer Maintenance", grade: "B", credits: 2 },
                        { subject: "Principles of Accounting", grade: "C+", credits: 3 },
                        { subject: "Principles of Programming", grade: "F", credits: 3 },
                        { subject: "Algebra and Geometry", grade: "C", credits: 3 },
                        { subject: "Calculus II", grade: "F", credits: 3 }
                        
                    ],
                    3: [
                        { subject: "Digital Systems", grade: "C+", credits: 3 },
                        { subject: "Programming Methods", grade: "C", credits: 3 },
                        { subject: "Differential Equations", grade: "C", credits: 3 },
                        { subject: "Multimedia", grade: "B+", credits: 3 },
                        { subject: "Database Concepts", grade: "B+", credits: 3 },
                        { subject: "Statistics and Probability I", grade: "A", credits: 3 },
                        { subject: "System Analysis & Design", grade: "C", credits: 3 },
                        { subject: "Numerical Computation I", grade: "B", credits: 3 }


                    ],
                    4:[
                        { subject: "Computer Architecture and Organization", grade: "B", credits: 3 },
                        { subject: "Human Computer Interaction", grade: "C", credits: 3 },
                        { subject: "Statistics & Probabilities II", grade: "C", credits: 3 },
                        { subject: "Database Programming", grade: "C+", credits: 3 },
                        { subject: "Algorithms and Data Structure", grade: "C", credits: 3 },
                        { subject: "Numeric Computation II", grade: "C", credits: 3 },
                        { subject: "Operations Research", grade: "C", credits: 3 },
                        { subject: "Internet Technology", grade: "C", credits: 3 }
                    ],
                    5: [
                        { subject: "Programming Methods II (OOP)", grade: "C", credits: 3 },
                        { subject: "Computer Networks and Communications", grade: "C", credits: 3 },
                        { subject: "Database Applications", grade: "C+", credits: 3 },
                        { subject: "Software Engineering I", grade: "C", credits: 3 },
                       { subject: "Visual Programming", grade: "C", credits: 3 },
                       // { subject: "Algorithms Analysis and Design", grade: "N/A", credits: 3 },
                       // { subject: "Compilers Design", grade: "N/A", credits: 3 }

                    ]
                }
            },
"00249": {
    name: "Yassir Seneen Mohammed Salih",
    CS: {
        1: [
            { subject: "Computer Applications", grade: "B+", credits: 3 },
            { subject: "Principles of Information Systems", grade: "C+", credits: 3 },
            { subject: "English I", grade: "B", credits: 3 },
            { subject: "Calculus I", grade: "B", credits: 3 },
            { subject: "Introduction to Computer Scince", grade: "B", credits: 3 },
            { subject: "Discrete Mathmatics", grade: "C+", credits: 3 },
            { subject: "Principles of Economics", grade: "A", credits: 3 }
        ],
        2: [
            { subject: "File Management", grade: "A", credits: 3 },
            { subject: "Introduction to Database", grade: "C+", credits: 3 },
            { subject: "English II", grade: "B", credits: 3 },
            { subject: "Computer Maintenance", grade: "A", credits: 2 },
            { subject: "Principles of Accounting", grade: "C", credits: 3 },
            { subject: "Principles of Programming", grade: "A", credits: 3 },
            { subject: "Algebra and Geometry", grade: "A", credits: 3 },
            { subject: "Calculus II", grade: "A", credits: 3 }
        ]
    }
},
"1901454": {
    name: "Abdulhadi Galal",
    IT: {
        1: [
            { subject: "Computer Applications", grade: "B+", credits: 3 },
            { subject: "Principles of Information Systems", grade: "C+", credits: 3 },
            { subject: "English I", grade: "B", credits: 3 },
            { subject: "Calculus I", grade: "B", credits: 3 },
            { subject: "Introduction to Computer Scince", grade: "B", credits: 3 },
            { subject: "Discrete Mathmatics", grade: "C+", credits: 3 },
            { subject: "Principles of Economics", grade: "A", credits: 3 }
        ],
        2: [
            { subject: "File Management", grade: "A", credits: 3 },
            { subject: "Introduction to Database", grade: "C+", credits: 3 },
            { subject: "English II", grade: "B", credits: 3 },
            { subject: "Computer Maintenance", grade: "A", credits: 2 },
            { subject: "Principles of Accounting", grade: "C", credits: 3 },
            { subject: "Principles of Programming", grade: "A", credits: 3 },
            { subject: "Algebra and Geometry", grade: "A", credits: 3 },
            { subject: "Calculus II", grade: "A", credits: 3 }
        ]
    }
},
            "IT5-22-11618445": {
                name: "A.N. Gilani",
                IT: {
                    1: [
                        { subject: "Computer Applications", grade: "A", credits: 3 },
                        { subject: "Principles of Information Systems", grade: "C+", credits: 3 },
                        { subject: "English I", grade: "B+", credits: 3 },
                        { subject: "Calculus I", grade: "C+", credits: 3 },
                        { subject: "Introduction to Information Technology", grade: "B", credits: 3 },
                        { subject: "Discrete Mathmatics", grade: "A", credits: 3 },
                        { subject: "Principles of Economics", grade: "C", credits: 3 },
                        { subject: "Management", grade: "B+", credits: 3 }
                    ],
                    2: [
                        { subject: "Computer Equipment and Environment", grade: "A", credits: 3 },
                        { subject: "Computer Implemntation in Business", grade: "A", credits: 3 },
                        { subject: "English II", grade: "C+", credits: 3 },
                        { subject: "Computer Maintenance", grade: "A", credits: 2 },
                        { subject: "Principles of Accounting", grade: "B+", credits: 3 },
                        { subject: "Principles of Programming", grade: "A", credits: 3 },
                        { subject: "Algebra and Geometry", grade: "A", credits: 3 },
                        { subject: "Calculus II", grade: "A", credits: 3 }
                        
                    ],
                    3: [
                        { subject: "Digital Systems", grade: "B+", credits: 3 },
                        { subject: "Programming Methods", grade: "B+", credits: 3 },
                        { subject: "Differential Equations", grade: "A", credits: 3 },
                        { subject: "Multimedia", grade: "B", credits: 3 },
                        { subject: "Database Concepts", grade: "A", credits: 3 },
                        { subject: "Statistics and Probability I", grade: "B", credits: 3 },
                        { subject: "System Analysis & Design", grade: "B", credits: 3 },
                        { subject: "Management", grade: "A", credits: 3 }


                    ],
                    4:[
                        { subject: "Economic and Forecasting", grade: "B", credits: 3 },
                        { subject: "Human Computer Interaction", grade: "C", credits: 3 },
                        { subject: "Applied Statistics", grade: "B+", credits: 3 },
                        { subject: "Database Programming", grade: "C+", credits: 3 },
                        { subject: "Algorithms and Data Structure", grade: "B", credits: 3 },
                        { subject: "Communication Skills", grade: "B", credits: 3 },
                        { subject: "Operations Research", grade: "A", credits: 3 }
                        ],
                   5: [
                        { subject: "Software Project Management", grade: "A", credits: 3 },
                        { subject: "Computer Networks and Communications", grade: "B+", credits: 3 },
                        { subject: "Database Applications", grade: "B+", credits: 3 },
                       // { subject: "Software Engineering I", grade: "N/A", credits: 3 },
                       // { subject: "Visual Programming", grade: "N/A", credits: 3 },
                       // { subject: "Algorithms Analysis and Design", grade: "N/A", credits: 3 },
                       // { subject: "Compilers Design", grade: "N/A", credits: 3 }

                    ]
                }
                
            },
            "IT5-22-11411173": {
                name: "Ethar E.E.",
                IT: {
                    1: [
                        { subject: "Computer Applications", grade: "B", credits: 3 },
                        { subject: "Principles of Information Systems", grade: "B+", credits: 3 },
                        { subject: "English I", grade: "F", credits: 3 },
                        { subject: "Calculus I", grade: "C+", credits: 3 },
                        { subject: "Introduction to Information Technology", grade: "B", credits: 3 },
                        { subject: "Discrete Mathmatics", grade: "C", credits: 3 },
                        { subject: "Principles of Economics", grade: "C", credits: 3 },
                        { subject: "Management", grade: "B+", credits: 3 }
                    ],
                    2: [
                        { subject: "Computer Equipment and Environment", grade: "A", credits: 3 },
                        { subject: "Computer Implemntation in Business", grade: "C", credits: 3 },
                        { subject: "English II", grade: "F", credits: 3 },
                        { subject: "Computer Maintenance", grade: "B", credits: 2 },
                        { subject: "Principles of Accounting", grade: "F", credits: 3 },
                        { subject: "Principles of Programming", grade: "C", credits: 3 },
                        { subject: "Algebra and Geometry", grade: "B", credits: 3 },
                        { subject: "Calculus II", grade: "A", credits: 3 }
                        
                    ],
                    3: [
                        { subject: "Digital Systems", grade: "B", credits: 3 },
                        { subject: "Programming Methods", grade: "C", credits: 3 },
                        { subject: "Differential Equations", grade: "C+", credits: 3 },
                        { subject: "Multimedia", grade: "B+", credits: 3 },
                        { subject: "Database Concepts", grade: "B", credits: 3 },
                        { subject: "Statistics and Probability I", grade: "A", credits: 3 },
                        { subject: "System Analysis & Design", grade: "C", credits: 3 },
                        { subject: "Management", grade: "B", credits: 3 }


                    ],
                    4:[
                        { subject: "Economic and Forecasting", grade: "C", credits: 3 },
                        { subject: "Human Computer Interaction", grade: "C+", credits: 3 },
                        { subject: "Applied Statistics", grade: "B", credits: 3 },
                        { subject: "Database Programming", grade: "B", credits: 3 },
                        { subject: "Algorithms and Data Structure", grade: "B", credits: 3 },
                        { subject: "Communication Skills", grade: "B", credits: 3 },
                        { subject: "Operations Research", grade: "C", credits: 3 }
                        ],
                   5: [
                        { subject: "Software Project Management", grade: "B+", credits: 3 },
                        { subject: "Computer Networks and Communications", grade: "A", credits: 3 },
                        { subject: "Database Applications", grade: "B+", credits: 3 },
                       // { subject: "Software Engineering I", grade: "N/A", credits: 3 },
                       // { subject: "Visual Programming", grade: "N/A", credits: 3 },
                       // { subject: "Algorithms Analysis and Design", grade: "N/A", credits: 3 },
                       // { subject: "Compilers Design", grade: "N/A", credits: 3 }

                    ]
                }
            },
"IT3663": {
                name: "Abdullah M. Abdulkreem",
                IT: {
                    1: [
                        { subject: "Computer Applications", grade: "A", credits: 3 },
                        { subject: "Principles of Information Systems", grade: "C+", credits: 3 },
                        { subject: "English I", grade: "C", credits: 3 },
                        { subject: "Calculus I", grade: "C+", credits: 3 },
                        { subject: "Introduction to Information Technology", grade: "B", credits: 3 },
                        { subject: "Discrete Mathmatics", grade: "A", credits: 3 },
                        { subject: "Principles of Economics", grade: "C", credits: 3 },
                        { subject: "Management", grade: "B+", credits: 3 }
                    ],
                    2: [
                        { subject: "Computer Equipment and Environment", grade: "B", credits: 3 },
                        { subject: "Computer Implemntation in Business", grade: "A", credits: 3 },
                        { subject: "English II", grade: "B", credits: 3 },
                        { subject: "Computer Maintenance", grade: "A", credits: 2 },
                        { subject: "Principles of Accounting", grade: "B+", credits: 3 },
                        { subject: "Principles of Programming", grade: "A", credits: 3 },
                        { subject: "Algebra and Geometry", grade: "A", credits: 3 },
                        { subject: "Calculus II", grade: "A", credits: 3 }
                        
                    ]}},
            "IT5-22-11029440": {
                name: "Mariam M.S. Abdalla",
                IT: {
                    1: [
                        { subject: "Computer Applications", grade: "C+", credits: 3 },
                        { subject: "Principles of Information Systems", grade: "B", credits: 3 },
                        { subject: "English I", grade: "C", credits: 3 },
                        { subject: "Calculus I", grade: "C", credits: 3 },
                        { subject: "Introduction to Information Technology", grade: "C", credits: 3 },
                        { subject: "Discrete Mathmatics", grade: "C", credits: 3 },
                        { subject: "Principles of Economics", grade: "C", credits: 3 },
                        { subject: "Management", grade: "B+", credits: 3 }
                    ],
                    2: [
                        { subject: "Computer Equipment and Environment", grade: "B+", credits: 3 },
                        { subject: "Computer Implemntation in Business", grade: "C+", credits: 3 },
                        { subject: "English II", grade: "F", credits: 3 },
                        { subject: "Computer Maintenance", grade: "C+", credits: 2 },
                        { subject: "Principles of Accounting", grade: "C", credits: 3 },
                        { subject: "Principles of Programming", grade: "F", credits: 3 },
                        { subject: "Algebra and Geometry", grade: "F", credits: 3 },
                        { subject: "Calculus II", grade: "C", credits: 3 }
                        
                    ],
                    3: [
                        { subject: "Digital Systems", grade: "B", credits: 3 },
                        { subject: "Programming Methods", grade: "C", credits: 3 },
                        { subject: "Differential Equations", grade: "C", credits: 3 },
                        { subject: "Multimedia", grade: "B+", credits: 3 },
                        { subject: "Database Concepts", grade: "A", credits: 3 },
                        { subject: "Statistics and Probability I", grade: "A", credits: 3 },
                        { subject: "System Analysis & Design", grade: "C", credits: 3 },
                        { subject: "Management", grade: "C+", credits: 3 }


                    ],
                    4:[
                        { subject: "Economic and Forecasting", grade: "C", credits: 3 },
                        { subject: "Human Computer Interaction", grade: "C", credits: 3 },
                        { subject: "Applied Statistics", grade: "C", credits: 3 },
                        { subject: "Database Programming", grade: "C+", credits: 3 },
                        { subject: "Algorithms and Data Structure", grade: "C", credits: 3 },
                        { subject: "Communication Skills", grade: "C", credits: 3 },
                        { subject: "Operations Research", grade: "C", credits: 3 }
                        ],
                   5: [
                       { subject: "Software Project Management", grade: "B", credits: 3 },
                        { subject: "Computer Networks and Communications", grade: "B+", credits: 3 },
                        { subject: "Database Applications", grade: "B", credits: 3 },
                       // { subject: "Software Engineering I", grade: "N/A", credits: 3 },
                       // { subject: "Visual Programming", grade: "N/A", credits: 3 },
                       // { subject: "Algorithms Analysis and Design", grade: "N/A", credits: 3 },
                       // { subject: "Compilers Design", grade: "N/A", credits: 3 }

                    ]
                }
            },
            "IT5-22-61001069" : {
                name: "Mahmoud T.M. Abdulaati",
                IT: {
                    1: [
                        { subject: "Computer Applications", grade: "C", credits: 3 },
                        { subject: "Principles of Information Systems", grade: "F", credits: 3 },
                        { subject: "English I", grade: "F", credits: 3 },
                        { subject: "Calculus I", grade: "F", credits: 3 },
                        { subject: "Introduction to Information Technology", grade: "C", credits: 3 },
                        { subject: "Discrete Mathmatics", grade: "C", credits: 3 },
                        { subject: "Principles of Economics", grade: "F", credits: 3 },
                        { subject: "Management", grade: "A", credits: 3 }
                    ],
                    2: [
                        { subject: "Computer Equipment and Environment", grade: "C+", credits: 3 },
                        { subject: "Computer Implemntation in Business", grade: "C+", credits: 3 },
                        { subject: "English II", grade: "F", credits: 3 },
                        { subject: "Computer Maintenance", grade: "C", credits: 2 },
                        { subject: "Principles of Accounting", grade: "C", credits: 3 },
                        { subject: "Principles of Programming", grade: "F", credits: 3 },
                        { subject: "Algebra and Geometry", grade: "A", credits: 3 },
                        { subject: "Calculus II", grade: "C", credits: 3 }
                        
                    ],
                    3: [
                        { subject: "Digital Systems", grade: "F", credits: 3 },
                        { subject: "Programming Methods", grade: "C", credits: 3 },
                        { subject: "Differential Equations", grade: "C", credits: 3 },
                        { subject: "Multimedia", grade: "B+", credits: 3 },
                        { subject: "Database Concepts", grade: "B+", credits: 3 },
                        { subject: "Statistics and Probability I", grade: "B", credits: 3 },
                        { subject: "System Analysis & Design", grade: "C", credits: 3 },
                        { subject: "Management", grade: "C", credits: 3 }


                    ],
                    4:[
                        { subject: "Economic and Forecasting", grade: "C", credits: 3 },
                        { subject: "Human Computer Interaction", grade: "C", credits: 3 },
                        { subject: "Applied Statistics", grade: "C", credits: 3 },
                        { subject: "Database Programming", grade: "C", credits: 3 },
                        { subject: "Algorithms and Data Structure", grade: "C", credits: 3 },
                        { subject: "Communication Skills", grade: "F", credits: 3 },
                        { subject: "Operations Research", grade: "C", credits: 3 }
                        ],
                   5: [
                        //{ subject: "Programming Methods II (OOP)", grade: "C", credits: 3 },
                        { subject: "Computer Networks and Communications", grade: "C", credits: 3 },
                        { subject: "Database Applications", grade: "F", credits: 3 },
                       // { subject: "Software Engineering I", grade: "N/A", credits: 3 },
                       // { subject: "Visual Programming", grade: "N/A", credits: 3 },
                       // { subject: "Algorithms Analysis and Design", grade: "N/A", credits: 3 },
                       // { subject: "Compilers Design", grade: "N/A", credits: 3 }

                    ]
                }
            },
            "IT5-22-11607382": {
                name: "Mohammed E.M. Mohammed",
                IT: {
                    1: [
                        { subject: "Computer Applications", grade: "B", credits: 3 },
                        { subject: "Principles of Information Systems", grade: "C", credits: 3 },
                        { subject: "English I", grade: "B+", credits: 3 },
                        { subject: "Calculus I", grade: "F", credits: 3 },
                        { subject: "Introduction to Information Technology", grade: "C", credits: 3 },
                        { subject: "Discrete Mathmatics", grade: "A", credits: 3 },
                        { subject: "Principles of Economics", grade: "C", credits: 3 },
                        { subject: "Management", grade: "C", credits: 3 }
                    ],
                    2: [
                        { subject: "Computer Equipment and Environment", grade: "A", credits: 3 },
                        { subject: "Computer Implemntation in Business", grade: "C", credits: 3 },
                        { subject: "English II", grade: "C", credits: 3 },
                        { subject: "Computer Maintenance", grade: "C+", credits: 2 },
                        { subject: "Principles of Accounting", grade: "C", credits: 3 },
                        { subject: "Principles of Programming", grade: "F", credits: 3 },
                        { subject: "Algebra and Geometry", grade: "B", credits: 3 },
                        { subject: "Calculus II", grade: "F", credits: 3 }
                        
                    ],
                    3: [
                        { subject: "Digital Systems", grade: "C+", credits: 3 },
                        { subject: "Programming Methods", grade: "C+", credits: 3 },
                        { subject: "Differential Equations", grade: "B", credits: 3 },
                        { subject: "Multimedia", grade: "C", credits: 3 },
                        { subject: "Database Concepts", grade: "B+", credits: 3 },
                        { subject: "Statistics and Probability I", grade: "C", credits: 3 },
                        { subject: "System Analysis & Design", grade: "B+", credits: 3 },
                        { subject: "Management", grade: "A", credits: 3 }


                    ],
                    4:[
                        { subject: "Economic and Forecasting", grade: "C", credits: 3 },
                        { subject: "Human Computer Interaction", grade: "C+", credits: 3 },
                        { subject: "Applied Statistics", grade: "B+", credits: 3 },
                        { subject: "Database Programming", grade: "B", credits: 3 },
                        { subject: "Algorithms and Data Structure", grade: "C+", credits: 3 },
                        { subject: "Communication Skills", grade: "B", credits: 3 },
                        { subject: "Operations Research", grade: "C+", credits: 3 }
                        ],
                   5: [
                        { subject: "Software Project Management", grade: "B", credits: 3 },
                        { subject: "Computer Networks and Communications", grade: "A", credits: 3 },
                        { subject: "Database Applications", grade: "C+", credits: 3 },
                       // { subject: "Software Engineering I", grade: "N/A", credits: 3 },
                       // { subject: "Visual Programming", grade: "N/A", credits: 3 },
                       // { subject: "Algorithms Analysis and Design", grade: "N/A", credits: 3 },
                       // { subject: "Compilers Design", grade: "N/A", credits: 3 }

                    ]
                }
            }

        };

        // Grade points mapping
        const gradePoints = {
            "A": 4.0,
            "B+": 3.5,
            "B": 3.0,
            "C+": 2.5,
            "C": 2.0,
            "F": 0
        };

        // Function to calculate GPA
        function calculateGPA(data, semester = "all") {
            let totalPoints = 0;
            let totalCredits = 0;

            if (semester === "all") {
                Object.values(data).forEach(courses => {
                    courses.forEach(course => {
                        totalPoints += gradePoints[course.grade] * course.credits;
                        totalCredits += course.credits;
                    });
                });
            } else {
                data[semester]?.forEach(course => {
                    totalPoints += gradePoints[course.grade] * course.credits;
                    totalCredits += course.credits;
                });
            }

            return totalCredits > 0 ? (totalPoints / totalCredits).toFixed(2) : "GPA Can NOT be Calculated for This Level, You Did NOT Sit for This Level, Did You?";
        }

        function loadStudentDetails() {
            const params = new URLSearchParams(window.location.search);
            const studentId = params.get('studentId');
            const major = params.get('major');
            const semester = params.get('semester');

            const student = studentsData[studentId];

            if (!student || !student[major]) {
                document.querySelector(".container").innerHTML = "<p>No data available for this student or major.</p>";
                return;
            }

            document.getElementById('studentInfo').innerText = `Name: ${student.name}`;

            const tbody = document.querySelector("#gradesTable tbody");
            const header = document.getElementById("tableHeader");
            const semesters = student[major];

            // Update table header based on the selection
            if (semester === "all") {
                header.innerHTML = `
                    <th>Semester</th>
                    <th>Subject</th>
                    <th>Grade</th>
                    <th>Credits</th>
                `;

                Object.keys(semesters).forEach(sem => {
                    semesters[sem].forEach(course => {
                        const row = `<tr>
                            <td>${sem}</td>
                            <td>${course.subject}</td>
                            <td>${course.grade}</td>
                            <td>${course.credits}</td>
                        </tr>`;
                        tbody.innerHTML += row;
                    });
                });

                const gpa = calculateGPA(semesters, "all");
                document.getElementById('gpa').innerText = `Cumulative GPA: ${gpa}`;
            } else {
                header.innerHTML = `
                    <th>Subject</th>
                    <th>Grade</th>
                    <th>Credits</th>
                `;

                semesters[semester]?.forEach(course => {
                    const row = `<tr>
                        <td>${course.subject}</td>
                        <td>${course.grade}</td>
                        <td>${course.credits}</td>
                    </tr>`;
                    tbody.innerHTML += row;
                });

                const gpa = calculateGPA(semesters, semester);
                document.getElementById('gpa').innerText = `Semester GPA: ${gpa}`;
            }
        }

        loadStudentDetails();
    </script>
    
</body>

</html>
